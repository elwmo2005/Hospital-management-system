<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vital Signs - Hospital Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: #f4f4f4;
            color: #333;
            height: 100vh;
            overflow-x: hidden;
        }

        /* Top Header Bar */
        .apex-header {
            background: #13191c;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .oracle-logo {
            color: #ff0000;
            font-weight: bold;
            margin-right: 20px;
        }

        .header-right {
            display: flex;
            align-items: center;
            color: #ffffff;
            font-size: 13px;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .user-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #3d9aef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            margin-right: 8px;
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            height: calc(100vh - 50px);
        }

        /* Left Sidebar Navigation */
        .sidebar {
            width: 240px;
            background: #2d5563;
            color: #ffffff;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .nav-item {
            padding: 12px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .nav-item.active {
            background: rgba(255,255,255,0.2);
            border-left: 3px solid #3d9aef;
        }

        .nav-item .icon {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .nav-item.has-submenu .arrow {
            margin-left: auto;
            font-size: 10px;
        }

        .nav-submenu {
            background: rgba(0,0,0,0.2);
            display: none;
        }

        .nav-submenu.open {
            display: block;
        }

        .nav-submenu .nav-item {
            padding-left: 45px;
            font-size: 13px;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            background: #f4f4f4;
            overflow-y: auto;
        }

        .content-header {
            background: #ffffff;
            padding: 15px 25px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .breadcrumb {
            font-size: 13px;
            color: #666;
            margin-bottom: 5px;
        }

        .breadcrumb a {
            color: #3d9aef;
            text-decoration: none;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin: 0;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        /* Main Container */
        .main-container {
            padding: 25px;
            max-width: 1600px;
        }

        /* APEX Region Style */
        .apex-region {
            background: #ffffff;
            border: 1px solid #d0d0d0;
            border-radius: 4px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .region-header {
            background: linear-gradient(to bottom, #f8f8f8, #e8e8e8);
            border-bottom: 1px solid #d0d0d0;
            padding: 10px 15px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .region-header .icon {
            margin-right: 8px;
            color: #3d9aef;
        }

        .region-body {
            padding: 20px;
        }

        /* Vital Signs Layout */
        .vitals-layout {
            display: grid;
            grid-template-columns: 350px 1fr 300px;
            gap: 20px;
            height: calc(100vh - 140px);
        }

        /* Patient Panel */
        .patient-panel {
            background: white;
            border: 1px solid #d0d0d0;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
        }

        .patient-search {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .search-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
        }

        .patients-container {
            flex: 1;
            overflow-y: auto;
        }

        .patient-item {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .patient-item:hover {
            background: #f8f9fa;
        }

        .patient-item.selected {
            background: #e8f4fd;
            border-left: 3px solid #3d9aef;
        }

        .patient-name {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .patient-details {
            font-size: 11px;
            color: #666;
        }

        /* Vital Signs Content */
        .vitals-content {
            background: white;
            border: 1px solid #d0d0d0;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
        }

        .patient-banner {
            background: linear-gradient(135deg, #3d9aef 0%, #2e7bc6 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 4px 4px 0 0;
        }

        .patient-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 11px;
            opacity: 0.8;
            margin-bottom: 2px;
        }

        .info-value {
            font-size: 13px;
            font-weight: 600;
        }

        /* Vital Signs Entry Form */
        .vitals-entry {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .vitals-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-size: 12px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .form-input {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
            height: 32px;
        }

        .form-input:focus {
            outline: none;
            border-color: #3d9aef;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .unit-label {
            font-size: 10px;
            color: #666;
            margin-top: 2px;
        }

        .vital-input-group {
            position: relative;
        }

        .vital-status {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16px;
        }

        .status-normal { color: #28a745; }
        .status-abnormal { color: #dc3545; }
        .status-warning { color: #ffc107; }

        /* Historical Vitals Display */
        .vitals-history {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .vitals-tabs {
            display: flex;
            gap: 2px;
            margin-bottom: 15px;
        }

        .vitals-tab {
            padding: 8px 12px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 3px 3px 0 0;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .vitals-tab.active {
            background: white;
            border-bottom-color: white;
            font-weight: 600;
            color: #3d9aef;
        }

        .vitals-history-entry {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .vitals-entry-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .vitals-datetime {
            font-size: 12px;
            font-weight: 600;
            color: #333;
        }

        .vitals-recorder {
            font-size: 11px;
            color: #666;
            margin-left: auto;
        }

        .vitals-values-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }

        .vital-value-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            padding: 8px;
            text-align: center;
        }

        .vital-value-label {
            font-size: 10px;
            color: #666;
            margin-bottom: 2px;
        }

        .vital-value {
            font-size: 12px;
            font-weight: 600;
            color: #333;
        }

        .vital-abnormal {
            background: #fff5f5;
            border-color: #fed7d7;
            color: #c53030;
        }

        .vital-warning {
            background: #fffbf0;
            border-color: #fde68a;
            color: #d69e2e;
        }

        /* Right Panel - Analytics & Actions */
        .vitals-sidebar {
            background: white;
            border: 1px solid #d0d0d0;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
        }

        .quick-actions {
            padding: 15px;
        }

        .quick-action-btn {
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            border: 1px solid #ccc;
            border-radius: 3px;
            background: white;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
            text-align: left;
        }

        .quick-action-btn:hover {
            background: #f8f9fa;
            border-color: #3d9aef;
        }

        .quick-action-btn .icon {
            margin-right: 8px;
            width: 16px;
            display: inline-block;
        }

        /* Vitals Summary Widget */
        .vitals-summary {
            padding: 15px;
            border-top: 1px solid #e0e0e0;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }

        .summary-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            padding: 8px;
            text-align: center;
        }

        .summary-label {
            font-size: 10px;
            color: #666;
            margin-bottom: 2px;
        }

        .summary-value {
            font-size: 12px;
            font-weight: 600;
            color: #333;
        }

        /* Buttons */
        .btn {
            padding: 8px 16px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            height: 32px;
            min-width: 80px;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #3d9aef;
            border-color: #3d9aef;
            color: #ffffff;
        }

        .btn-primary:hover {
            background: #2e7bc6;
        }

        .btn-secondary {
            background: #6c757d;
            border-color: #6c757d;
            color: #ffffff;
        }

        .btn-success {
            background: #28a745;
            border-color: #28a745;
            color: #ffffff;
        }

        .btn-warning {
            background: #ffc107;
            border-color: #ffc107;
            color: #212529;
        }

        .btn-danger {
            background: #dc3545;
            border-color: #dc3545;
            color: #ffffff;
        }

        /* Alerts */
        .alert {
            padding: 10px 15px;
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: 12px;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .alert-danger {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .alert-info {
            background: #cce5ff;
            border: 1px solid #b3d7ff;
            color: #004085;
        }

        /* Chart Container */
        .chart-container {
            height: 200px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            margin-top: 10px;
        }

        /* Normal Ranges Reference */
        .normal-ranges {
            padding: 15px;
            border-top: 1px solid #e0e0e0;
        }

        .range-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            font-size: 11px;
            border-bottom: 1px solid #f0f0f0;
        }

        .range-item:last-child {
            border-bottom: none;
        }

        .range-label {
            font-weight: 600;
        }

        .range-values {
            color: #666;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3d9aef;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .vitals-layout {
                grid-template-columns: 300px 1fr 250px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }

            .nav-item span:not(.icon) {
                display: none;
            }

            .vitals-layout {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto 1fr;
            }

            .main-container {
                padding: 15px;
            }

            .vitals-form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Top Header -->
    <div class="apex-header">
        <div class="header-left">
            <div class="oracle-logo">ORACLE</div>
            <span style="color: #fff; font-size: 14px;">Hospital Management System</span>
        </div>
        <div class="header-right">
            <div class="user-info">
                <div class="user-avatar">NS</div>
                <span>(Nurse Station)</span>
            </div>
            <span style="margin-right: 15px;">üåê Select Language ‚ñæ</span>
            <span>Main Application</span>
        </div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Left Sidebar Navigation -->
        <div class="sidebar">
            <div class="nav-item">
                <span class="icon">üè•</span>
                <span>Hospital Dashboard</span>
            </div>
            
            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">üë•</span>
                <span>Patient Management</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="nav-submenu">
                <div class="nav-item"><span>Patient Registration</span></div>
                <div class="nav-item"><span>Patient Search</span></div>
                <div class="nav-item"><span>Admission/Discharge</span></div>
                <div class="nav-item"><span>Emergency Triage</span></div>
            </div>

            <div class="nav-item has-submenu active" onclick="toggleSubmenu(this)">
                <span class="icon">ü©∫</span>
                <span>Clinical Module</span>
                <span class="arrow">‚ñº</span>
            </div>
            <div class="nav-submenu open">
                <div class="nav-item">
                    <span>Medical Records</span>
                </div>
                <div class="nav-item active">
                    <span>Vital Signs</span>
                </div>
                <div class="nav-item">
                    <span>Procedure Scheduling</span>
                </div>
                <div class="nav-item">
                    <span>Discharge Planning</span>
                </div>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">üî¨</span>
                <span>Laboratory</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="nav-submenu">
                <div class="nav-item"><span>Test Orders</span></div>
                <div class="nav-item"><span>Sample Tracking</span></div>
                <div class="nav-item"><span>Results Entry</span></div>
                <div class="nav-item"><span>Lab Reports</span></div>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">üíä</span>
                <span>Pharmacy</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="nav-submenu">
                <div class="nav-item"><span>Prescription Management</span></div>
                <div class="nav-item"><span>Drug Inventory</span></div>
                <div class="nav-item"><span>Dispensing</span></div>
                <div class="nav-item"><span>Drug Interactions</span></div>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">üí∞</span>
                <span>Billing & Finance</span>
                <span class="arrow">‚ñ∂</span>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">üë®‚Äç‚öïÔ∏è</span>
                <span>Staff Management</span>
                <span class="arrow">‚ñ∂</span>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">ü§ñ</span>
                <span>AI Analytics</span>
                <span class="arrow">‚ñ∂</span>
            </div>

            <div class="nav-item has-submenu" onclick="toggleSubmenu(this)">
                <span class="icon">‚öôÔ∏è</span>
                <span>Administration</span>
                <span class="arrow">‚ñ∂</span>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <div class="content-header">
                <div>
                    <div class="breadcrumb">
                        <a href="#">Home</a> ‚Ä∫ <a href="#">Clinical Module</a> ‚Ä∫ Vital Signs
                    </div>
                    <h1 class="page-title">Patient Vital Signs</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-success" onclick="recordVitals()">
                        üíì Record Vitals
                    </button>
                    <button class="btn btn-warning" onclick="viewTrends()">
                        üìä View Trends
                    </button>
                    <button class="btn btn-secondary" onclick="printVitals()">
                        üñ®Ô∏è Print
                    </button>
                </div>
            </div>

            <div class="main-container">
                <!-- Three-column Vital Signs Layout -->
                <div class="vitals-layout">
                    <!-- Left Panel - Patient List -->
                    <div class="patient-panel">
                        <div class="region-header">
                            <span class="icon">üë•</span>
                            Patient List
                        </div>
                        <div class="patient-search">
                            <input type="text" class="search-input" placeholder="Search patients..." 
                                   oninput="searchPatients(this.value)">
                        </div>
                        <div class="patients-container" id="patientsContainer">
                            <!-- Patients will be loaded here -->
                        </div>
                    </div>

                    <!-- Center Panel - Vital Signs Entry & History -->
                    <div class="vitals-content">
                        <div id="patientBanner" class="patient-banner" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <div>
                                    <h2 id="patientDisplayName" style="margin: 0; font-size: 18px;">Select a Patient</h2>
                                    <div style="font-size: 13px; opacity: 0.9; margin-top: 4px;" id="patientBasicInfo">
                                        Choose a patient to record vital signs
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 11px; opacity: 0.8;">Room/Bed</div>
                                    <div style="font-size: 13px; font-weight: 600;" id="patientLocation">--</div>
                                </div>
                            </div>
                            <div class="patient-info-grid" id="patientInfoGrid">
                                <!-- Patient info will be populated here -->
                            </div>
                        </div>

                        <!-- Vital Signs Entry Form -->
                        <div class="vitals-entry" id="vitalsEntryForm" style="display: none;">
                            <h3 style="margin-bottom: 15px; color: #333; font-size: 16px;">Record New Vital Signs</h3>
                            
                            <div class="vitals-form-grid">
                                <div class="form-group">
                                    <label class="form-label">Date & Time *</label>
                                    <input type="datetime-local" class="form-input" id="vitalsDateTime" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Recorded By</label>
                                    <input type="text" class="form-input" value="Nurse Station" readonly>
                                </div>
                            </div>

                            <div class="vitals-form-grid">
                                <div class="form-group">
                                    <label class="form-label">Blood Pressure *</label>
                                    <div style="display: flex; gap: 5px;">
                                        <div class="vital-input-group" style="flex: 1;">
                                            <input type="number" class="form-input" id="bpSystolic" placeholder="Systolic" 
                                                   min="60" max="250" oninput="validateVital('bp', this)">
                                            <span class="vital-status" id="bpSystolicStatus"></span>
                                        </div>
                                        <span style="align-self: center; font-weight: bold;">/</span>
                                        <div class="vital-input-group" style="flex: 1;">
                                            <input type="number" class="form-input" id="bpDiastolic" placeholder="Diastolic"
                                                   min="30" max="150" oninput="validateVital('bp', this)">
                                            <span class="vital-status" id="bpDiastolicStatus"></span>
                                        </div>
                                    </div>
                                    <div class="unit-label">mmHg (Normal: 90-139/60-89)</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Heart Rate *</label>
                                    <div class="vital-input-group">
                                        <input type="number" class="form-input" id="heartRate" placeholder="Enter BPM"
                                               min="30" max="200" oninput="validateVital('hr', this)">
                                        <span class="vital-status" id="heartRateStatus"></span>
                                    </div>
                                    <div class="unit-label">BPM (Normal: 60-100)</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Temperature *</label>
                                    <div class="vital-input-group">
                                        <input type="number" class="form-input" id="temperature" placeholder="¬∞C" step="0.1"
                                               min="30" max="45" oninput="validateVital('temp', this)">
                                        <span class="vital-status" id="temperatureStatus"></span>
                                    </div>
                                    <div class="unit-label">¬∞C (Normal: 36.1-37.2)</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Oxygen Saturation *</label>
                                    <div class="vital-input-group">
                                        <input type="number" class="form-input" id="oxygenSat" placeholder="%" 
                                               min="70" max="100" oninput="validateVital('o2sat', this)">
                                        <span class="vital-status" id="oxygenSatStatus"></span>
                                    </div>
                                    <div class="unit-label">% (Normal: 95-100)</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Respiratory Rate</label>
                                    <div class="vital-input-group">
                                        <input type="number" class="form-input" id="respiratoryRate" placeholder="breaths/min"
                                               min="5" max="50" oninput="validateVital('rr', this)">
                                        <span class="vital-status" id="respiratoryRateStatus"></span>
                                    </div>
                                    <div class="unit-label">breaths/min (Normal: 12-20)</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Pain Scale</label>
                                    <select class="form-input" id="painScale">
                                        <option value="">-- Select --</option>
                                        <option value="0">0 - No Pain</option>
                                        <option value="1">1 - Minimal</option>
                                        <option value="2">2 - Mild</option>
                                        <option value="3">3 - Uncomfortable</option>
                                        <option value="4">4 - Moderate</option>
                                        <option value="5">5 - Distressing</option>
                                        <option value="6">6 - Severe</option>
                                        <option value="7">7 - Very Severe</option>
                                        <option value="8">8 - Intense</option>
                                        <option value="9">9 - Excruciating</option>
                                        <option value="10">10 - Unbearable</option>
                                    </select>
                                    <div class="unit-label">Scale: 0-10</div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Additional Notes</label>
                                <textarea class="form-input" id="vitalsNotes" rows="3" 
                                          placeholder="Any additional observations or notes..." style="height: auto;"></textarea>
                            </div>

                            <!-- Action Buttons -->
                            <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
                                <button type="button" class="btn btn-secondary" onclick="clearVitalsForm()">
                                    Clear
                                </button>
                                <button type="button" class="btn btn-warning" onclick="saveVitalsDraft()">
                                    Save Draft
                                </button>
                                <button type="button" class="btn btn-success" onclick="saveVitals()">
                                    üíì Save Vitals
                                </button>
                            </div>
                        </div>

                        <!-- Vital Signs History -->
                        <div class="vitals-history">
                            <div class="vitals-tabs">
                                <div class="vitals-tab active" onclick="switchVitalsTab('recent', this)">Recent (24h)</div>
                                <div class="vitals-tab" onclick="switchVitalsTab('week', this)">This Week</div>
                                <div class="vitals-tab" onclick="switchVitalsTab('month', this)">This Month</div>
                                <div class="vitals-tab" onclick="switchVitalsTab('all', this)">All Records</div>
                            </div>

                            <div id="vitalsHistoryContent">
                                <div class="loading">
                                    <div>Select a patient to view vital signs history</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Panel - Quick Actions & Analytics -->
                    <div class="vitals-sidebar">
                        <div class="region-header">
                            <span class="icon">‚ö°</span>
                            Quick Actions
                        </div>
                        <div class="quick-actions">
                            <button class="quick-action-btn" onclick="recordVitals()">
                                <span class="icon">üíì</span>
                                Record Vital Signs
                            </button>
                            <button class="quick-action-btn" onclick="viewVitalsTrends()">
                                <span class="icon">üìà</span>
                                View Trends Chart
                            </button>
                            <button class="quick-action-btn" onclick="compareVitals()">
                                <span class="icon">üìä</span>
                                Compare Readings
                            </button>
                            <button class="quick-action-btn" onclick="exportVitals()">
                                <span class="icon">üìÅ</span>
                                Export Data
                            </button>
                            <button class="quick-action-btn" onclick="alertSettings()">
                                <span class="icon">üîî</span>
                                Alert Settings
                            </button>
                            <button class="quick-action-btn" onclick="vitalsReport()">
                                <span class="icon">üìÑ</span>
                                Generate Report
                            </button>
                        </div>

                        <div class="vitals-summary">
                            <h4 style="margin-bottom: 8px; font-size: 13px; color: #333;">Latest Vitals Summary</h4>
                            <div style="font-size: 11px; color: #666; margin-bottom: 8px;" id="latestVitalsDate">--</div>
                            <div class="summary-grid" id="vitalsDisplay">
                                <div class="summary-item">
                                    <div class="summary-label">BP</div>
                                    <div class="summary-value">--/--</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">HR</div>
                                    <div class="summary-value">-- bpm</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Temp</div>
                                    <div class="summary-value">--¬∞C</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">O2 Sat</div>
                                    <div class="summary-value">--%</div>
                                </div>
                            </div>

                            <!-- Trends Chart Placeholder -->
                            <div class="chart-container">
                                <div>üìà Vitals Trends Chart<br><small>Select patient to view trends</small></div>
                            </div>
                        </div>

                        <div class="normal-ranges">
                            <h4 style="margin-bottom: 10px; font-size: 13px; color: #333;">Normal Ranges</h4>
                            <div class="range-item">
                                <span class="range-label">Blood Pressure</span>
                                <span class="range-values">90-139/60-89 mmHg</span>
                            </div>
                            <div class="range-item">
                                <span class="range-label">Heart Rate</span>
                                <span class="range-values">60-100 bpm</span>
                            </div>
                            <div class="range-item">
                                <span class="range-label">Temperature</span>
                                <span class="range-values">36.1-37.2¬∞C</span>
                            </div>
                            <div class="range-item">
                                <span class="range-label">O2 Saturation</span>
                                <span class="range-values">95-100%</span>
                            </div>
                            <div class="range-item">
                                <span class="range-label">Respiratory Rate</span>
                                <span class="range-values">12-20 breaths/min</span>
                            </div>
                        </div>

                        <div class="vitals-summary" style="border-top: 1px solid #e0e0e0;">
                            <h4 style="margin-bottom: 8px; font-size: 13px; color: #333;">Active Alerts</h4>
                            <div id="vitalsAlertsContainer">
                                <div style="font-size: 11px; color: #666; text-align: center; padding: 10px;">
                                    No active alerts
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample patient data
        const samplePatients = [
            {
                id: 1, patientNumber: 'P-20241215-001', mrn: 'MRN-20241215-0001',
                firstName: 'Ahmed', lastName: 'Hassan', age: 46, gender: 'M',
                room: 'GEN-201', bed: 'A', admissionId: 1001
            },
            {
                id: 2, patientNumber: 'P-20241215-002', mrn: 'MRN-20241215-0002',
                firstName: 'Fatima', lastName: 'Al-Zahra', age: 29, gender: 'F',
                room: 'MAT-105', bed: 'B', admissionId: 1002
            },
            {
                id: 3, patientNumber: 'P-20241214-045', mrn: 'MRN-20241214-0045',
                firstName: 'Omar', lastName: 'Khaled', age: 62, gender: 'M',
                room: 'ICU-03', bed: 'A', admissionId: 1003
            },
            {
                id: 4, patientNumber: 'P-20241213-023', mrn: 'MRN-20241213-0023',
                firstName: 'Layla', lastName: 'Mohammed', age: 34, gender: 'F',
                room: 'GEN-105', bed: 'A', admissionId: 1004
            }
        ];

        // Sample vital signs data
        const sampleVitals = {
            1: [ // Ahmed Hassan
                {
                    id: 1, datetime: '2024-12-15 14:30', recordedBy: 'Nurse Sarah',
                    systolic: 180, diastolic: 110, heartRate: 95, temperature: 37.2, 
                    oxygenSat: 92, respiratoryRate: 22, painScale: 8, notes: 'Patient reports chest pain'
                },
                {
                    id: 2, datetime: '2024-12-15 10:15', recordedBy: 'Nurse Ahmed',
                    systolic: 165, diastolic: 100, heartRate: 88, temperature: 36.8, 
                    oxygenSat: 95, respiratoryRate: 18, painScale: 6, notes: 'Post-medication assessment'
                }
            ],
            2: [ // Fatima Al-Zahra
                {
                    id: 3, datetime: '2024-12-15 08:00', recordedBy: 'Nurse Aisha',
                    systolic: 125, diastolic: 75, heartRate: 88, temperature: 36.5, 
                    oxygenSat: 99, respiratoryRate: 16, painScale: 2, notes: 'Routine prenatal vitals'
                }
            ],
            3: [ // Omar Khaled
                {
                    id: 4, datetime: '2024-12-15 12:00', recordedBy: 'ICU Nurse',
                    systolic: 210, diastolic: 120, heartRate: 110, temperature: 38.5, 
                    oxygenSat: 88, respiratoryRate: 28, painScale: 9, notes: 'Critical - physician notified'
                }
            ]
        };

        let selectedPatient = null;
        let currentVitalsTab = 'recent';

        // Navigation functionality
        function toggleSubmenu(item) {
            const submenu = item.nextElementSibling;
            const arrow = item.querySelector('.arrow');
            
            if (submenu && submenu.classList.contains('nav-submenu')) {
                submenu.classList.toggle('open');
                arrow.textContent = submenu.classList.contains('open') ? '‚ñº' : '‚ñ∂';
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadPatientList();
            
            // Set default vitals date/time to now
            const now = new Date();
            document.getElementById('vitalsDateTime').value = now.toISOString().slice(0, 16);
        });

        // Load patient list
        function loadPatientList() {
            const container = document.getElementById('patientsContainer');
            
            container.innerHTML = samplePatients.map(patient => `
                <div class="patient-item" onclick="selectPatient(${patient.id})" data-patient-id="${patient.id}">
                    <div class="patient-name">${patient.firstName} ${patient.lastName}</div>
                    <div class="patient-details">
                        MRN: ${patient.mrn}<br>
                        Room: ${patient.room}-${patient.bed}<br>
                        Age: ${patient.age}, ${patient.gender === 'M' ? 'Male' : 'Female'}
                    </div>
                </div>
            `).join('');
        }

        // Search patients
        function searchPatients(query) {
            const container = document.getElementById('patientsContainer');
            const filtered = samplePatients.filter(p =>
                p.firstName.toLowerCase().includes(query.toLowerCase()) ||
                p.lastName.toLowerCase().includes(query.toLowerCase()) ||
                p.mrn.toLowerCase().includes(query.toLowerCase()) ||
                p.room.toLowerCase().includes(query.toLowerCase())
            );
            
            container.innerHTML = filtered.map(patient => `
                <div class="patient-item" onclick="selectPatient(${patient.id})" data-patient-id="${patient.id}">
                    <div class="patient-name">${patient.firstName} ${patient.lastName}</div>
                    <div class="patient-details">
                        MRN: ${patient.mrn}<br>
                        Room: ${patient.room}-${patient.bed}<br>
                        Age: ${patient.age}, ${patient.gender === 'M' ? 'Male' : 'Female'}
                    </div>
                </div>
            `).join('');
        }

        // Select patient
        function selectPatient(patientId) {
            selectedPatient = samplePatients.find(p => p.id === patientId);
            
            // Update UI selection
            document.querySelectorAll('.patient-item').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelector(`[data-patient-id="${patientId}"]`).classList.add('selected');
            
            // Update patient banner
            updatePatientBanner();
            
            // Show vitals entry form
            document.getElementById('vitalsEntryForm').style.display = 'block';
            
            // Load vital signs history
            loadVitalsHistory();
            
            // Update vitals summary
            updateVitalsSummary();
        }

        // Update patient banner
        function updatePatientBanner() {
            if (!selectedPatient) return;
            
            const banner = document.getElementById('patientBanner');
            const displayName = document.getElementById('patientDisplayName');
            const basicInfo = document.getElementById('patientBasicInfo');
            const location = document.getElementById('patientLocation');
            const infoGrid = document.getElementById('patientInfoGrid');
            
            displayName.textContent = `${selectedPatient.firstName} ${selectedPatient.lastName}`;
            basicInfo.textContent = `${selectedPatient.age} years old, ${selectedPatient.gender === 'M' ? 'Male' : 'Female'} | MRN: ${selectedPatient.mrn}`;
            location.textContent = `${selectedPatient.room}-${selectedPatient.bed}`;
            
            infoGrid.innerHTML = `
                <div class="info-item">
                    <div class="info-label">Patient #</div>
                    <div class="info-value">${selectedPatient.patientNumber}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Admission ID</div>
                    <div class="info-value">${selectedPatient.admissionId}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Location</div>
                    <div class="info-value">${selectedPatient.room}-${selectedPatient.bed}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Status</div>
                    <div class="info-value">Admitted</div>
                </div>
            `;
            
            banner.style.display = 'block';
        }

        // Load vitals history
        function loadVitalsHistory() {
            if (!selectedPatient) return;
            
            const vitals = sampleVitals[selectedPatient.id] || [];
            const content = document.getElementById('vitalsHistoryContent');
            
            if (vitals.length === 0) {
                content.innerHTML = `
                    <div class="loading">
                        <div>No vital signs recorded for this patient</div>
                    </div>
                `;
                return;
            }
            
            const sortedVitals = [...vitals].sort((a, b) => new Date(b.datetime) - new Date(a.datetime));
            
            content.innerHTML = sortedVitals.map(vital => `
                <div class="vitals-history-entry">
                    <div class="vitals-entry-header">
                        <div class="vitals-datetime">${formatDateTime(vital.datetime)}</div>
                        <div class="vitals-recorder">Recorded by: ${vital.recordedBy}</div>
                    </div>
                    
                    <div class="vitals-values-grid">
                        <div class="vital-value-item ${getVitalStatus('bp', vital.systolic, vital.diastolic)}">
                            <div class="vital-value-label">Blood Pressure</div>
                            <div class="vital-value">${vital.systolic}/${vital.diastolic}</div>
                        </div>
                        <div class="vital-value-item ${getVitalStatus('hr', vital.heartRate)}">
                            <div class="vital-value-label">Heart Rate</div>
                            <div class="vital-value">${vital.heartRate} bpm</div>
                        </div>
                        <div class="vital-value-item ${getVitalStatus('temp', vital.temperature)}">
                            <div class="vital-value-label">Temperature</div>
                            <div class="vital-value">${vital.temperature}¬∞C</div>
                        </div>
                        <div class="vital-value-item ${getVitalStatus('o2sat', vital.oxygenSat)}">
                            <div class="vital-value-label">O2 Saturation</div>
                            <div class="vital-value">${vital.oxygenSat}%</div>
                        </div>
                        <div class="vital-value-item ${getVitalStatus('rr', vital.respiratoryRate)}">
                            <div class="vital-value-label">Respiratory Rate</div>
                            <div class="vital-value">${vital.respiratoryRate} /min</div>
                        </div>
                        <div class="vital-value-item">
                            <div class="vital-value-label">Pain Scale</div>
                            <div class="vital-value">${vital.painScale}/10</div>
                        </div>
                    </div>
                    
                    ${vital.notes ? `
                        <div style="margin-top: 8px; padding: 8px; background: white; border-radius: 3px; font-size: 11px;">
                            <strong>Notes:</strong> ${vital.notes}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // Update vitals summary
        function updateVitalsSummary() {
            if (!selectedPatient) return;
            
            const vitals = sampleVitals[selectedPatient.id] || [];
            if (vitals.length === 0) return;
            
            const latest = vitals[0]; // Assuming sorted by newest first
            
            document.getElementById('latestVitalsDate').textContent = formatDateTime(latest.datetime);
            
            document.getElementById('vitalsDisplay').innerHTML = `
                <div class="summary-item ${getVitalStatus('bp', latest.systolic, latest.diastolic)}">
                    <div class="summary-label">BP</div>
                    <div class="summary-value">${latest.systolic}/${latest.diastolic}</div>
                </div>
                <div class="summary-item ${getVitalStatus('hr', latest.heartRate)}">
                    <div class="summary-label">HR</div>
                    <div class="summary-value">${latest.heartRate} bpm</div>
                </div>
                <div class="summary-item ${getVitalStatus('temp', latest.temperature)}">
                    <div class="summary-label">Temp</div>
                    <div class="summary-value">${latest.temperature}¬∞C</div>
                </div>
                <div class="summary-item ${getVitalStatus('o2sat', latest.oxygenSat)}">
                    <div class="summary-label">O2 Sat</div>
                    <div class="summary-value">${latest.oxygenSat}%</div>
                </div>
            `;

            // Update alerts
            updateVitalsAlerts(latest);
        }

        // Update alerts based on vitals
        function updateVitalsAlerts(vitals) {
            const alertsContainer = document.getElementById('vitalsAlertsContainer');
            const alerts = [];
            
            if (vitals.oxygenSat < 95) alerts.push('üî¥ Low oxygen saturation');
            if (vitals.heartRate > 100) alerts.push('üü° Tachycardia');
            if (vitals.heartRate < 60) alerts.push('üü° Bradycardia');
            if (vitals.temperature > 37.2) alerts.push('üü° Fever');
            if (vitals.systolic > 139 || vitals.diastolic > 89) alerts.push('üî¥ Hypertension');
            if (vitals.respiratoryRate > 20) alerts.push('üü° Tachypnea');
            if (vitals.painScale >= 7) alerts.push('üî¥ Severe pain reported');
            
            if (alerts.length > 0) {
                alertsContainer.innerHTML = alerts.map(alert => 
                    `<div style="font-size: 11px; margin-bottom: 5px; padding: 4px; background: #fff3cd; border-radius: 2px;">${alert}</div>`
                ).join('');
            } else {
                alertsContainer.innerHTML = '<div style="font-size: 11px; color: #666; text-align: center; padding: 10px;">No active alerts</div>';
            }
        }

        // Validate vital signs input
        function validateVital(type, input) {
            const value = parseFloat(input.value);
            const statusElement = document.getElementById(input.id + 'Status');
            
            if (!value || isNaN(value)) {
                statusElement.textContent = '';
                return;
            }
            
            let status = '';
            
            switch(type) {
                case 'bp':
                    const systolic = parseFloat(document.getElementById('bpSystolic').value);
                    const diastolic = parseFloat(document.getElementById('bpDiastolic').value);
                    if (systolic && diastolic) {
                        if (systolic > 139 || diastolic > 89) {
                            status = '‚ö†Ô∏è';
                            statusElement.className = 'vital-status status-abnormal';
                        } else if (systolic < 90 || diastolic < 60) {
                            status = '‚ö†Ô∏è';
                            statusElement.className = 'vital-status status-warning';
                        } else {
                            status = '‚úÖ';
                            statusElement.className = 'vital-status status-normal';
                        }
                    }
                    break;
                case 'hr':
                    if (value > 100 || value < 60) {
                        status = '‚ö†Ô∏è';
                        statusElement.className = 'vital-status status-abnormal';
                    } else {
                        status = '‚úÖ';
                        statusElement.className = 'vital-status status-normal';
                    }
                    break;
                case 'temp':
                    if (value > 37.2 || value < 36.1) {
                        status = '‚ö†Ô∏è';
                        statusElement.className = 'vital-status status-warning';
                    } else {
                        status = '‚úÖ';
                        statusElement.className = 'vital-status status-normal';
                    }
                    break;
                case 'o2sat':
                    if (value < 95) {
                        status = '‚ö†Ô∏è';
                        statusElement.className = 'vital-status status-abnormal';
                    } else {
                        status = '‚úÖ';
                        statusElement.className = 'vital-status status-normal';
                    }
                    break;
                case 'rr':
                    if (value > 20 || value < 12) {
                        status = '‚ö†Ô∏è';
                        statusElement.className = 'vital-status status-warning';
                    } else {
                        status = '‚úÖ';
                        statusElement.className = 'vital-status status-normal';
                    }
                    break;
            }
            
            statusElement.textContent = status;
        }

        // Get vital status for display
        function getVitalStatus(type, value1, value2) {
            switch(type) {
                case 'bp':
                    if (value1 > 139 || value2 > 89 || value1 < 90 || value2 < 60) {
                        return 'vital-abnormal';
                    }
                    break;
                case 'hr':
                    if (value1 > 100 || value1 < 60) return 'vital-abnormal';
                    break;
                case 'temp':
                    if (value1 > 37.2 || value1 < 36.1) return 'vital-warning';
                    break;
                case 'o2sat':
                    if (value1 < 95) return 'vital-abnormal';
                    break;
                case 'rr':
                    if (value1 > 20 || value1 < 12) return 'vital-warning';
                    break;
            }
            return '';
        }

        // Switch vitals tab
        function switchVitalsTab(tabName, element) {
            document.querySelectorAll('.vitals-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            element.classList.add('active');
            currentVitalsTab = tabName;
            loadVitalsHistory(); // Reload with filter
        }

        // Save vital signs
        function saveVitals() {
            if (!selectedPatient) {
                showAlert('warning', 'Please select a patient first.');
                return;
            }
            
            // Validate required fields
            const required = ['vitalsDateTime', 'bpSystolic', 'bpDiastolic', 'heartRate', 'temperature', 'oxygenSat'];
            const missing = required.filter(id => !document.getElementById(id).value);
            
            if (missing.length > 0) {
                showAlert('warning', 'Please fill in all required vital signs.');
                return;
            }
            
            // Collect form data
            const vitalsData = {
                patientId: selectedPatient.id,
                datetime: document.getElementById('vitalsDateTime').value,
                systolic: parseInt(document.getElementById('bpSystolic').value),
                diastolic: parseInt(document.getElementById('bpDiastolic').value),
                heartRate: parseInt(document.getElementById('heartRate').value),
                temperature: parseFloat(document.getElementById('temperature').value),
                oxygenSat: parseInt(document.getElementById('oxygenSat').value),
                respiratoryRate: parseInt(document.getElementById('respiratoryRate').value) || null,
                painScale: parseInt(document.getElementById('painScale').value) || null,
                notes: document.getElementById('vitalsNotes').value || '',
                recordedBy: 'Nurse Station'
            };
            
            // Simulate saving
            const saveBtn = event.target;
            saveBtn.innerHTML = '<div class="spinner" style="width: 14px; height: 14px; margin-right: 8px;"></div>Saving...';
            saveBtn.disabled = true;
            
            setTimeout(() => {
                // Add to sample data
                if (!sampleVitals[selectedPatient.id]) {
                    sampleVitals[selectedPatient.id] = [];
                }
                
                sampleVitals[selectedPatient.id].unshift({
                    id: Date.now(),
                    ...vitalsData
                });
                
                // Refresh displays
                loadVitalsHistory();
                updateVitalsSummary();
                clearVitalsForm();
                
                saveBtn.innerHTML = 'üíì Save Vitals';
                saveBtn.disabled = false;
                
                showAlert('success', 'Vital signs have been recorded successfully.');
            }, 2000);
        }

        // Clear vitals form
        function clearVitalsForm() {
            document.getElementById('bpSystolic').value = '';
            document.getElementById('bpDiastolic').value = '';
            document.getElementById('heartRate').value = '';
            document.getElementById('temperature').value = '';
            document.getElementById('oxygenSat').value = '';
            document.getElementById('respiratoryRate').value = '';
            document.getElementById('painScale').value = '';
            document.getElementById('vitalsNotes').value = '';
            
            // Clear status indicators
            document.querySelectorAll('.vital-status').forEach(status => {
                status.textContent = '';
                status.className = 'vital-status';
            });
        }

        // Utility functions
        function formatDateTime(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }

        function showAlert(type, message) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            document.querySelector('.main-container').insertBefore(alertDiv, document.querySelector('.main-container').firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        // Quick action functions
        function recordVitals() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            document.getElementById('vitalsEntryForm').scrollIntoView({ behavior: 'smooth' });
        }

        function viewVitalsTrends() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Opening vitals trends chart for ' + selectedPatient.firstName + ' ' + selectedPatient.lastName);
        }

        function compareVitals() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Opening vitals comparison view...');
        }

        function exportVitals() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Exporting vitals data for ' + selectedPatient.firstName + ' ' + selectedPatient.lastName);
        }

        function alertSettings() {
            alert('Opening vital signs alert configuration...');
        }

        function vitalsReport() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Generating vitals report...');
        }

        function viewTrends() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Opening trends analysis...');
        }

        function printVitals() {
            if (!selectedPatient) {
                alert('Please select a patient first.');
                return;
            }
            alert('Preparing vitals for printing...');
        }

        function saveVitalsDraft() {
            showAlert('info', 'Vitals draft saved successfully.');
        }

        console.log('Vital Signs System Initialized');
    </script>
</body>
</html>